@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Create Issue";
}
@model int

@{
    var UserList = new SelectList(ViewBag.ProjectUsers);
    IssueModel newIssue = new IssueModel();

}
@{
    ViewBag.CurrentProj = Model;
}
<div class="text-center">
    <h1 class="display-1">Create an issue For Project "@ViewBag.ProjectName".</h1>
</div>

<div>
    @using (Html.BeginForm("IssueCreate", "Issue", FormMethod.Post, new {@class="col-md-7 col-lg-8"}))
    {
        <div class="col-sm-6">
            @Html.LabelFor(i => newIssue.Name, "Name", new {@class="form-label"})
            @Html.TextBox("Name", "Issue Name", new {@class="form-control"})
        </div>
        <div class="col-sm-6">
            @Html.LabelFor(i => newIssue.Description, "Description", new { @class = "form-label" })
            @Html.TextBox("Description", "Issue Description", new { @class = "form-control" })
        </div>
        <div class="col-md-4">
            @Html.LabelFor(i => newIssue.UserIds, "User IDs", new { @class = "form-label" })
            @Html.DropDownList("UserIds", UserList, new {@class = "form-select", @multiple = "multiple"})
        </div>
        <div class="col-md-4">
            @Html.LabelFor(i => newIssue.AssociatedFiles, "Associated Files", new { @class = "form-label" })
            @Html.TextBox("AssociatedFiles", "File Names", new { @class = "form-control" })
        </div>
        <button type="submit" class="btn btn-primary" name="projId" value=@Model.ToString()>Create</button>
    }
</div>
